'use strict';

const convict = require('convict');
const logger = require('./logger');

logger.info('config.load', 'Loading configuration');
const config = convict({
    requestBodyLimitBytes: {
        default: 5242880, // 5mb
        doc: 'The maximum size in bytes a request body can be after which the request will be rejected as too large',
        format: Number
    },
    serverPort: {
        default: 8080,
        doc: 'The port the server starts up using',
        env: 'SERVER_PORT',
        format: 'port'
    }
});
config.validate({allowed: 'strict'});

module.exports = config.getProperties();
